#!/usr/bin/python#coding=utf-8'''读取Gephi文件.gml，'''#configurationlayoutPath = '../layout/'sourcePath = []sourcePath.append('gephiGraph/Weibo/likaifu_Example.gml')sourcePath.append('gephiGraph/Weibo/hubei_Example.gml')sourcePath.append('gephiGraph/Zhihu/user_Example.gml')import csvimport osimport networkx as nxdef makeWholeLayout(gephi_path):	graphItems = nx.read_gml(gephi_path)	graphNodes = graphItems.node	layout = []	for graphID in graphNodes:				if not graphNodes[graphID].has_key('graphics'):			continue		layout.append((	graphID, 						graphNodes[graphID]['graphics']['x'], 						graphNodes[graphID]['graphics']['y'], 						graphNodes[graphID]['graphics']['z'], 						graphNodes[graphID]['graphics']['w'],						'0x'+(graphNodes[graphID]['graphics']['fill'].encode("utf-8"))[1:]))		return layoutfor path in sourcePath:	#拆分后倒数第一个	fileName = path.split('/')[-1]	#查找所有的'.gml'并替换为空，	name_t = fileName.replace('.gml', '')	#输出name_t	print name_t	layout = makeWholeLayout(path)	csvfile = file(layoutPath + name_t + '.csv', 'wb')	writer = csv.writer(csvfile)	writer.writerows(layout)